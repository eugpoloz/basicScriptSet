{"version":3,"sources":["webpack://basicScriptSet/webpack/bootstrap","webpack://basicScriptSet/./src/common/index.js","webpack://basicScriptSet/./node_modules/lodash/_Symbol.js","webpack://basicScriptSet/./node_modules/lodash/_root.js","webpack://basicScriptSet/./node_modules/lodash/isObject.js","webpack://basicScriptSet/./src/various/addScriptCredits.js","webpack://basicScriptSet/./src/various/disableProfiles.js","webpack://basicScriptSet/./src/various/createFastLoginLinks.js","webpack://basicScriptSet/./src/topic/makeGuestNamesClickable.js","webpack://basicScriptSet/./src/topic/selectAndCopy.js","webpack://basicScriptSet/./src/topic/setDefaultIcon.js","webpack://basicScriptSet/./src/textarea/refactorEditorButtons.js","webpack://basicScriptSet/./src/textarea/fastSubmit.js","webpack://basicScriptSet/./src/common/insertAfter.js","webpack://basicScriptSet/./node_modules/lodash/isObjectLike.js","webpack://basicScriptSet/./node_modules/lodash/_objectToString.js","webpack://basicScriptSet/./node_modules/lodash/_getRawTag.js","webpack://basicScriptSet/./node_modules/lodash/_baseGetTag.js","webpack://basicScriptSet/./node_modules/lodash/isSymbol.js","webpack://basicScriptSet/./node_modules/lodash/toNumber.js","webpack://basicScriptSet/(webpack)/buildin/global.js","webpack://basicScriptSet/./node_modules/lodash/_freeGlobal.js","webpack://basicScriptSet/./node_modules/lodash/now.js","webpack://basicScriptSet/./node_modules/lodash/debounce.js","webpack://basicScriptSet/./src/textarea/charCounter.js","webpack://basicScriptSet/./src/textarea/addFontsToList.js","webpack://basicScriptSet/./src/bss.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_insertAfter","_insertAfter2","insertAfter","Symbol","freeGlobal","freeSelf","self","root","Function","type","createCreditHTML","a","author","url","e","contacts","contactsHTML","f","length","map","title","join","props","b","text","Array","isArray","credits","about","document","getElementById","HTMLElement","container","querySelector","triggerHTML","insertAdjacentHTML","triggerEl","creditsHTML","addEventListener","preventDefault","$","jGrowl","header","theme","position","sticky","createScriptCredits","_toConsumableArray","profiles","message","profile","_typeof","style","display","profilesSet","Set","has","UserID","innerHTML","after","logins","GroupID","handleFastLoginClick","target","dataset","login","password","formData","FormData","append","fetch","window","location","origin","body","credentials","headers","Cache-Control","Upgrade-Insecure-Requests","method","then","status","reload","loginMap","id","link","afterEl","querySelectorAll","forEach","node","transformNodes","profileNodes","nickname","innerText","forum_id","FORUM","topic","current_forum","changeText","el","textHTML","copiedText","codeSelector","tagName","nearestParent","closest","elToSelect","elLegend","HTMLPreElement","getSelection","createRange","range","selectNodeContents","selection","removeAllRanges","addRange","bodyIE8","createTextRange","moveToElementText","select","selectElementText","copysuccess","execCommand","copySelectionText","timer","clearTimeout","setTimeout","remakeCodeBoxes","codeboxNodeList","legend","readyState","createDefaultIcon","icon","before","authorLink","alt","textContent","html","beforeEl","handleClick","ctrlKey","metaKey","altKey","parentNode","nodeID","substr","bbcode","addCtrlClicks","editor","nodeList","img","removeAttribute","originalUploadedFirst","insertFormat","textarea","submitInput","HTMLTextAreaElement","key","click","previewInput","_common","query","nativeObjectToString","toString","objectProto","symToStringTag","toStringTag","undefined","isOwn","tag","unmasked","result","getRawTag","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isObject","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","replace","isBinary","test","slice","g","this","eval","global","Date","now","toNumber","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","leadingEdge","cancel","flush","counterText","updateCharCounter","counter","debouncedUpdate","_debounce2","default","search","savedPost","localStorage","getItem","event","_debounce","fonts","fontArea","fontHMTL","font","enhanceTextarea","_refactorEditorButtons","_addFontsToList2","_interopRequireDefault","_charCounter2","_fastSubmit2","_setDefaultIcon2","_selectAndCopy2","_makeGuestNamesClickable2","_createFastLoginLinks2","_disableProfiles2","_addScriptCredits2","setDefaultIcon","createFastLoginLinks","addFontsToList","countTextareaCharacters","selectCodeBox","submitOnHotkey","disableProfiles","addGuestNameClicks","addScriptCredits"],"mappings":"+BACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA2CA,OAtCAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,OAAA,KAIjDpB,EAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,WAA2B,OAAAnB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAU,EAAAC,GAAsD,OAAAV,OAAAW,UAAAC,eAAAnB,KAAAgB,EAAAC,IAGtDxB,EAAA2B,EAAA,GAIA3B,IAAA4B,EAAA,yGClEA,MAAAC,EAAA7B,EAAA,IAAA8B,KAAAD,iCAESE,uCCHT,IAGAC,EAHAhC,EAAA,GAGAgC,OAEA7B,EAAAD,QAAA8B,mBCLA,IAAAC,EAAAjC,EAAA,IAGAkC,EAAA,iBAAAC,iBAAArB,iBAAAqB,KAGAC,EAAAH,GAAAC,GAAAG,SAAA,cAAAA,GAEAlC,EAAAD,QAAAkC,iBCsBAjC,EAAAD,QALA,SAAAkB,GACA,IAAAkB,SAAAlB,EACA,aAAAA,IAAA,UAAAkB,GAAA,YAAAA,kCCRA,SAASC,EAATC,GAAwE,IAA5C7B,EAA4C6B,EAA5C7B,KAAM8B,EAAsCD,EAAtCC,OAAQC,EAA8BF,EAA9BE,IAA8BC,EAAAH,EAAzBI,gBAAyB,IAAAD,OAClEE,EAAe,GAWnB,OATsB,EAAlBC,EAASC,SACXF,EAAeD,EACZI,IACC,SAAAR,GAAA,IAAGE,EAAHF,EAAGE,IAAKO,EAART,EAAQS,MAAR,kBACcP,EADd,4BAC6CO,EAD7C,KACuDA,EADvD,SAGDC,KAAK,QAGV,+FAGiBR,EAHjB,4BAGgD/B,EAHhD,KAGyDA,EAHzD,+DAOU8B,EAPV,cAQQI,OAAoBA,EAApB,IAAsC,IAR9C,4FA6Fa,SAA0BM,GAAqB,IAAAC,EAAA3C,EACxD4C,GACAC,MAAMC,QAAQJ,KAAf,OAAA1C,EAA6B0C,GAA7B1C,IAAmD4C,OACpD,iBACEG,EAAUF,MAAMC,QAAQJ,GACxBA,GACA,OAAAC,EAAID,GAAJC,IAA0BI,aAoB9B,OAlGF,SAAAhB,GAMG,IALDa,EAKCb,EALDa,KACAG,EAIChB,EAJDgB,QAKMC,EAAQC,SAASC,eAAe,aAEtC,GAAIF,aAAiBG,YAAa,CAChC,IAAMC,EAAYJ,EAAMK,cAAc,eAChCC,o7BA4BAV,EA5BA,eA+BFQ,aAAqBD,YACvBC,EAAUG,mBACR,aADF,SAEWD,EAFX,cAKAN,EAAMO,mBACJ,YADF,8BAEgCD,EAFhC,eAMF,IAAME,EAAYP,SAASC,eAAe,yBACpCO,EAAcV,EAAQR,IAAIT,GAAkBW,KAAK,IAEnDe,aAAqBL,aACvBK,EAAUE,iBAAiB,QAAS,SAACxB,GAGnC,OAFAA,EAAEyB,iBAEKC,EAAEC,OAAF,OAAgBJ,EAAhB,SACLK,4CAA6ClB,EAA7C,YACAmB,MAAO,iBACPC,SAAU,eACVC,eAiCDC,EACLtB,OACAG,oBAlBE7C,KAAM,iBACN8B,OAAQ,iCACRC,IAAK,6CACLE,WAEIK,MAAO,MACPP,IAAK,8DAGLO,MAAO,SACPP,IAAK,wJAQXkC,CAAgCpB,gTClJrB,SAAAhB,GAGM,IAAAY,EAAAZ,EAFnBqC,gBAEmB,IAAAzB,OAAA1C,EAAA8B,EADnBsC,eACmB,IAAApE,EADT,oDACSA,EACnB,GAAsB,EAAlBD,EAASsC,QAMY,YAAnB,oBAAOgC,QAAP,YAAAC,EAAOD,UAAsB,CAC/BA,QAAQE,MAAMC,QAAU,OAGxB,IAAMC,EAAc,IAAIC,IAAIP,GAExBM,EAAYE,IAAIC,UAClBP,QAAQQ,UAAR,iEAZ+ET,EAY/E,QAGFC,QAAQE,MAAMC,QAAU,8FCrBf,SAAA1C,GAGD,IAAAY,EAAAZ,EAFZgD,aAEY,IAAApC,EAFJ,WAEIA,EAAA1C,EAAA8B,EADZiD,cACY,IAAA/E,OAEZ,GAAgB,IAAZgF,QAAe,KAERC,EAAT,SAAAnD,GAAmE,IAAnCoD,EAAmCpD,EAAnCoD,OAC9B,GAAIA,aAAkBhC,YAAa,KAAAnD,EACLmF,EAAOC,QAA3BC,EADyBrF,EACzBqF,MAAOC,EADkBtF,EAClBsF,SAETC,EAAW,IAAIC,SACrBD,EAASE,OAAO,YAAa,KAC7BF,EAASE,OAAO,eAAgBJ,GAChCE,EAASE,OAAO,eAAgBH,GAChCC,EAASE,OAAO,QAAS,UAYZC,MACRC,OAAOC,SAASC,OADR,wBATXC,KAAMP,EACNQ,YAAa,UACbC,SACEC,gBAAiB,YACjBC,4BAA6B,KAE/BC,OAAQ,SAMRC,KAAK,SAAArE,GACe,MAAhBA,EAAKsE,QACPV,OAAOC,SAASU,aAMxB,GAAoB,EAAhBpE,EAAOI,OAAY,CACrB,IAAMiE,EAAWvB,EAAOzC,IAAI,SAAAR,EAAgCpC,GAAM,IAAnC6G,EAAmCzE,EAAnCyE,GAAIC,EAA+B1E,EAA/B0E,KAAMpB,EAAyBtD,EAAzBsD,MAAOC,EAAkBvD,EAAlBuD,SAG9C,kBAFakB,YAAe7G,GAE5B,8DAAoF0F,EAApF,oBAA6GC,EAA7G,KAA0HmB,EAA1H,cAGIC,EAAUzD,SAASC,eAAe6B,GACpC2B,aAAmBvD,aACrBuD,EAAQnD,mBAAmB,WAAYgD,EAAS9D,KAAK,KAGvDQ,SACG0D,iBAAiB,cACjBC,QAAQ,SAACC,GAAD,OACPA,EAAKnD,iBAAiB,QAASwB,sPCvDzC,SAAS4B,IACP,IAAMC,EAAe9D,SAAS0D,iBAAiB,2BAErB,EAAtB5E,EAAaO,QACfyE,EAAaH,QAAQ,SAAA7E,GAEnB,IADa8E,EAAKxD,cAAc,KACrB,CACT,IAAM2D,EAAWH,EAAKI,WAAa,GAClB,KAAbjH,IAGF6G,EAAK/B,UAAL,qEAFiFkC,EAEjF,uBAF+GA,EAE/G,sEAOK,SAA6BE,GAC1C,GAA2B,WAAvB3C,EAAO4C,MAAMC,OAAoB,CACnC,IAAMC,GAAuBF,MAAMC,MAAMF,SADN,OAG/BA,OACEG,IAAkBH,GACpBJ,KAKKA,oCCeb,SAASQ,EAAWC,EAAkBzC,GAChCyC,IACFA,EAAGzC,UAAYA,8DAWJ,SAA2BpC,GAAc,IAAAzC,EAAAiC,EAEhDsF,mBADO,OAAAtF,EAAIQ,GAAJR,IAA0BU,OAAS,2BAC1C,OACA6E,GACJ,OAAAxH,EAAIyC,GAAJzC,IAA0BwH,aAAe,8BAE3C,SAASC,EAAaxF,GACpBA,EAAEyB,iBADiC,IAE3BwB,EAAWjD,EAAXiD,OAER,GACEA,aAAkBhC,cACE,QAAnBR,EAAOgF,SAAwC,MAAnBhF,EAAOgF,SACpC,CACA,IAAMC,EAAgBzC,EAAO0C,QAAQ,aAErC,GAAID,aAAyBzE,YAAa,CACxC,IAAM2E,EACe,QAAnBnF,EAAOgF,QACHxC,EACAyC,EAAcvE,cAAc,OAC5B0E,EAAWH,EAAcvE,cAAc,WAE7C,GAAIyE,aAAsBE,eAAgB,EAzElD,SAA2BT,GAEzB,GAAI5B,OAAOsC,cAAgBhF,SAASiF,YAAa,CAE/C,IAAIC,EAAQlF,SAASiF,cACrBC,EAAMC,mBAAmBb,GACzB,IAAIc,EAAY1C,OAAOsC,eAGvB,OAFAI,EAAUC,kBACVD,EAAUE,SAASJ,IACnB,EAIF,GAAqB,MAAjBlF,SAAS6C,KAAc,CACzB,IAAI0C,EAA8BvF,SAAS6C,KAE3C,GAAI0C,EAAQC,gBAAiB,CAC3B,IAAIN,EAAQK,EAAQC,kBACpBN,EAAMO,kBAAkBnB,GACxBY,EAAMQ,WAuDFC,CAAkBd,GAClB,IAAMe,EAlDhB,WACE,IAAIA,EACJ,IACEA,EAAc5F,SAAS6F,YAAY,QACnC,MAAO5G,GACP2G,KAEF,OAAOA,EA2CqBE,GACpB,IAAI,IAAA1G,GAEE0F,EAAU,KAERiB,EADJ1B,EAAWS,EAAUN,GAInB9B,OAAOsD,aAAaD,GACpBA,EAAQrD,OAAOuD,WACb,kBAAM5B,EAAWS,EAAUP,IAE3B,SAYhB,SAAS2B,IACP,IAAMC,EAAkBnG,SAAS0D,iBAAiB,aACrB,EAAzB5E,EAAgBO,QAClB8G,EAAgBxC,QAAQ,SAAA7E,GACtB,IAAMsH,EAASxC,EAAKxD,cAAc,WAC9BgG,GACF/B,EAAW+B,EAAQ7B,GAErBX,EAAKnD,iBAAiB,QAASgE,KAKT,aAAxBzE,SAASqG,WAGXH,IAFAlG,SAASS,iBAAiB,mBAAoByF,kPCtHlD,SAASI,EAAkB7G,GAAoB,IAGrC8G,EAA6C9G,EAA7C8G,KAHqCxJ,EAGQ0C,EAAvC+G,cAH+B,IAAAzJ,EAGtB,KAHsBA,EAAAkC,EAGQQ,EAAxBqC,aAHgB,IAAA7C,EAGR,YAHQA,EAKlB,WAAvBqC,EAAO4C,MAAMC,QACfnE,SAAS0D,iBAAiB,mBAAmBC,QAAQ,SAAA7E,GACnD,IAAIC,EAAOqB,cAAc,cAAzB,CACA,IAAMqG,EAAa1H,EAAOqB,cAAc,gBAClCsG,EAAOD,GAAcA,EAAWE,aAAgB,QAChDC,wDAA6DL,EAA7D,UAA2EG,EAA3E,mCAGN,GAAIF,EAAQ,CACV,IAAMK,EAAW9H,EAAOqB,cAAcoG,GAEtC,GAAIK,aAAoB3G,YACtB,OAAO2G,EAASvG,mBAAmB,cAAesG,GAMtD,GAAI9E,EAAO,CACT,IAAM2B,EAAU1E,EAAOqB,cAAc0B,GAErC,GAAI2B,aAAmBvD,YACrB,OAAOuD,EAAQnD,mBAAmB,WAAYsG,kEASzC,SAAwBnH,GAAuB,OAE/C,MAATX,OAFwD,EAQnDwH,EADY,iBAAV7G,GACkB8G,KAAM9G,GAIVA,kPCjD3B,SAASqH,EAAThI,GAAuE,IAAhDoD,EAAgDpD,EAAhDoD,OAAQ6E,EAAwCjI,EAAxCiI,QAASC,EAA+BlI,EAA/BkI,QAASC,EAAsBnI,EAAtBmI,OAC/C,GAAI/E,aAAkBhC,YAAa,KACzBgH,EAAehF,EAAfgF,WACR,GAAIA,aAAsBhH,YAAa,KAE/BiH,EADSD,EAAP3D,GACU6D,OAAO,GAErBL,GAAWC,GAAWC,EAEjB,UADCE,EAEJE,OAAO,QAAS,UAEb,SAJCF,EAKJE,OAAO,WAAY,UAGnBA,WAAWF,EAAX,SAA2BA,EAA3B,KAIJjD,MAAM1G,IAAI,UAAY2J,EAAS,mEAMvBG,cAAT,WACL,GAA4B,WAAxBhG,EAAO4C,MAAMqD,QAAqB,CACpC,IAAMC,EAAWxH,SAAS0D,iBACxB,6EAGE8D,GACFA,EAAS7D,QAAQ,SAAA7E,GACf,IAAM2I,EAAM7D,EAAKxD,cAAc,OAC3BqH,IACFA,EAAIC,gBAAgB,WACpBD,EAAIhH,iBAAiB,QAASqG,UASxBa,sBAAT,WACL,GAA4B,WAAxBrG,EAAO4C,MAAMqD,QAAqB,CACpC,IAAMK,EAAe5H,SAASC,eAAe,uBAS7C,GAAI2H,EACF,OAAQA,EAAa/F,UAAb,0fCzDC,WACb,GAA4B,WAAxBP,EAAO4C,MAAMqD,SAA8C,WAAvBjG,EAAO4C,MAAMC,OAAoB,CACvE,IAAM0D,EAAW7H,SAASI,cAAc,eAClC0H,EAAc9H,SAASI,cAAT,wBAEhByH,aAAoBE,qBAQtBF,EAASpH,iBAAiB,UAP1B,SAAA1D,GAAqE,IAAxCiL,EAAwCjL,EAAxCiL,IAAKjB,EAAmChK,EAAnCgK,QAASC,EAA0BjK,EAA1BiK,QAC7B,UAARhK,IAAoB+J,GAAWC,KACjCc,GAAeA,EAAYG,QAC3BJ,EAASnK,MAAQ,MAOvB,IAAMwK,EAAelI,SAASI,cAAT,yBAGjB8H,GACF,EAAAC,EAAA9J,aAAA,8IAEA,EAAA8J,EAAA9J,aAAA,8IA1BN,IAAA8J,EAAA7L,EAAA,4FCAe,SAAqB8L,EAAexB,GACjD,IAAMtC,EAAKtE,SAASI,cAAcgI,GAE9B9D,GACFA,EAAGhE,mBAAmB,WAAYsG,mBCuBtCnK,EAAAD,QAJA,SAAAkB,GACA,aAAAA,GAAA,iBAAAA,kBCxBA,IAOA2K,EAPAjL,OAAAW,UAOAuK,SAaA7L,EAAAD,QAJA,SAAAkB,GACA,OAAA2K,EAAAxL,KAAAa,qBClBA,IAAAY,EAAAhC,EAAA,GAGAiM,EAAAnL,OAAAW,UAGAC,EAAAuK,EAAAvK,eAOAqK,EAAAE,EAAAD,SAGAE,EAAAlK,IAAAmK,iBAAAC,EA6BAjM,EAAAD,QApBA,SAAAkB,GACA,IAAAiL,EAAA3K,EAAAnB,KAAAa,EAAA8K,GACAI,EAAAlL,EAAA8K,GAEA,IACA9K,EAAA8K,QAAAE,EACA,IAAAG,GAAA,EACG,MAAA5J,IAEH,IAAA6J,EAAAT,EAAAxL,KAAAa,GAQA,OAPAmL,IACAF,EACAjL,EAAA8K,GAAAI,SAEAlL,EAAA8K,IAGAM,oBC1CA,IAAAxK,EAAAhC,EAAA,GACAyM,EAAAzM,EAAA,IACA0M,EAAA1M,EAAA,IAGA2M,EAAA,gBACAC,EAAA,qBAGAV,EAAAlK,IAAAmK,iBAAAC,EAkBAjM,EAAAD,QATA,SAAAkB,GACA,aAAAA,OACAgL,IAAAhL,EAAAwL,EAAAD,EAEAT,QAAApL,OAAAM,GACAqL,EAAArL,GACAsL,EAAAtL,qBCxBA,IAAAyL,EAAA7M,EAAA,IACA8M,EAAA9M,EAAA,IAGA+M,EAAA,kBAwBA5M,EAAAD,QALA,SAAAkB,GACA,uBAAAA,GACA0L,EAAA1L,IAAAyL,EAAAzL,IAAA2L,oBCzBA,IAAAC,EAAAhN,EAAA,GACAiN,EAAAjN,EAAA,IAGAkN,EAAA,IAGAC,EAAA,aAGAC,EAAA,qBAGAC,EAAA,aAGAC,EAAA,cAGAC,EAAAC,SA8CArN,EAAAD,QArBA,SAAAkB,GACA,oBAAAA,EACA,OAAAA,EAEA,GAAA6L,EAAA7L,GACA,OAAA8L,EAEA,GAAAF,EAAA5L,GAAA,CACA,IAAAqM,EAAA,mBAAArM,EAAAsM,QAAAtM,EAAAsM,UAAAtM,EACAA,EAAA4L,EAAAS,KAAA,GAAAA,EAEA,oBAAArM,EACA,WAAAA,OAEAA,IAAAuM,QAAAR,EAAA,IACA,IAAAS,EAAAP,EAAAQ,KAAAzM,GACA,OAAAwM,GAAAN,EAAAO,KAAAzM,GACAmM,EAAAnM,EAAA0M,MAAA,GAAAF,EAAA,KACAR,EAAAS,KAAAzM,GAAA8L,GAAA9L,kBC9DA,IAAA2M,EAGAA,EAAA,WACA,OAAAC,KADA,GAIA,IAEAD,KAAA1L,SAAA,cAAAA,KAAA,EAAA4L,MAAA,QACC,MAAAtL,GAED,iBAAAyD,SAAA2H,EAAA3H,QAOAjG,EAAAD,QAAA6N,oBCnBA,SAAAG,GACA,IAAAjM,EAAA,iBAAAiM,QAAApN,iBAAAoN,EAEA/N,EAAAD,QAAA+B,sCCHA,IAAAG,EAAApC,EAAA,GAsBAG,EAAAD,QAJA,WACA,OAAAkC,EAAA+L,KAAAC,wBCnBA,IAAApB,EAAAhN,EAAA,GACAoO,EAAApO,EAAA,IACAqO,EAAArO,EAAA,IAGAsO,EAAA,sBAGAC,EAAAC,KAAAC,IACAC,EAAAF,KAAAG,IAoLAxO,EAAAD,QA5HA,SAAA0O,EAAAC,EAAAC,GACA,IAAAC,EACAC,EACAC,EACAzC,EACA0C,EACAC,EACAC,EAAA,EACAC,GAAA,EACAC,GAAA,EACAC,GAAA,EAEA,sBAAAX,EACA,UAAAY,UAAAlB,GAUA,SAAAmB,EAAAC,GACA,IAAAC,EAAAZ,EACAa,EAAAZ,EAKA,OAHAD,EAAAC,OAAA5C,EACAgD,EAAAM,EACAlD,EAAAoC,EAAAiB,MAAAD,EAAAD,GAuBA,SAAAG,EAAAJ,GACA,IAAAK,EAAAL,EAAAP,EAMA,YAAA/C,IAAA+C,GAAAY,GAAAlB,GACAkB,EAAA,GAAAT,GANAI,EAAAN,GAMAH,EAGA,SAAAe,IACA,IAAAN,EAAAtB,IACA,GAAA0B,EAAAJ,GACA,OAAAO,EAAAP,GAGAR,EAAAvF,WAAAqG,EA3BA,SAAAN,GACA,IAEAQ,EAAArB,GAFAa,EAAAP,GAIA,OAAAG,EACAZ,EAAAwB,EAAAjB,GAJAS,EAAAN,IAKAc,EAoBAC,CAAAT,IAGA,SAAAO,EAAAP,GAKA,OAJAR,OAAA9C,EAIAmD,GAAAR,EACAU,EAAAC,IAEAX,EAAAC,OAAA5C,EACAI,GAeA,SAAA4D,IACA,IAAAV,EAAAtB,IACAiC,EAAAP,EAAAJ,GAMA,GAJAX,EAAAuB,UACAtB,EAAAhB,KACAmB,EAAAO,EAEAW,EAAA,CACA,QAAAjE,IAAA8C,EACA,OAzEA,SAAAQ,GAMA,OAJAN,EAAAM,EAEAR,EAAAvF,WAAAqG,EAAAnB,GAEAQ,EAAAI,EAAAC,GAAAlD,EAmEA+D,CAAApB,GAEA,GAAAG,EAGA,OADAJ,EAAAvF,WAAAqG,EAAAnB,GACAY,EAAAN,GAMA,YAHA/C,IAAA8C,IACAA,EAAAvF,WAAAqG,EAAAnB,IAEArC,EAIA,OA1GAqC,EAAAR,EAAAQ,IAAA,EACA7B,EAAA8B,KACAO,IAAAP,EAAAO,QAEAJ,GADAK,EAAA,YAAAR,GACAP,EAAAF,EAAAS,EAAAG,UAAA,EAAAJ,GAAAI,EACAM,EAAA,aAAAT,MAAAS,YAmGAa,EAAAI,OAnCA,gBACApE,IAAA8C,GACAxF,aAAAwF,GAEAE,EAAA,EACAL,EAAAI,EAAAH,EAAAE,OAAA9C,GA+BAgE,EAAAK,MA5BA,WACA,YAAArE,IAAA8C,EAAA1C,EAAAyD,EAAA7B,MA4BAgC,4SCpLe,WAAwE,IAA/CM,EAA+C,EAAAJ,UAAAvN,aAAA,IAAAuN,UAAA,GAAAA,UAAA,GAAxB,uBAG7D,GAA4B,WAAxBtL,EAAO4C,MAAMqD,QAAqB,KAG3B0F,EAAT,SAA2BvP,GAAe,IAChC2B,EAAW3B,EAAX2B,OAEF6N,EAAUlN,SAASI,cAAc,2BACnC8M,IACFA,EAAQlJ,UAAY3E,EAAOiJ,aAPzBT,EAAW7H,SAASC,eAAe,cAWnCkN,GAAkB,EAAAC,EAAAC,SACtB,SAAAvO,GAAA,IAAGoD,EAAHpD,EAAGoD,OAAH,OAAgB+K,EAAkB/K,EAAOxE,QACzC,IAGF,GAAImK,aAAoBE,oBAAqB,CAG3C,IAFA,EAAAI,EAAA9J,aAAY,uBAAZ,yBApBkC2O,EAoBlC,4CAE2B,WAAvB1L,EAAO4C,MAAMC,OAAoB,CACnC,IAAMZ,EAAKb,OAAOC,SAAS2K,OAAOlG,OAAO,GACnCmG,EAAYC,aAAaC,QAAb,QAA6BlK,GAE7B,OAAdnE,QAAsB,IAAAA,GACxB6N,EAAkBM,IAKpB,QACA,OACA,WACA,QACA,UACA,SACA,MACA,QACA,QACA,kBACA,kBACA5J,QAAQ,SAAA7E,GACR+I,EAASpH,iBAAiBiN,EAAOP,QAlDzC,MAAAQ,EAAArR,EAAA,IAAA8Q,KAAAO,+BAAAxF,EAAA7L,EAAA,4SCOe,SAAwBsR,GACrC,GAA4B,WAAxBtM,EAAO4C,MAAMqD,QAAqB,CACpC,IAAMsG,EAAW7N,SAASC,eAAe,aAEzC,GAAI4N,aAAoB3N,YAAa,CACnC,IAAM0G,EAAOgH,EAAMtO,IAAIwO,GAAUtO,KAAK,IAGtC,YADAqO,EAASvN,mBAAmB,YAAasG,MAZ/C,IAAMkH,EAAW,SAACC,GAAD,iCACYA,EADZ,iBAELA,EAFK,wCAEsCA,EAFtC,yTC2BDC,gBAAT,YACL,EAAAC,EAAA3G,kBACA,EAAA2G,EAAAtG,0BAnBF,IAAAuG,EAAAC,EAAA7R,EAAA,KAAA8R,EAAAD,EAAA7R,EAAA,KAAA+R,EAAAF,EAAA7R,EAAA,KAAA2R,EAAA3R,EAAA,IAAAgS,EAAAH,EAAA7R,EAAA,IAAAiS,EAAAJ,EAAA7R,EAAA,IAAAkS,EAAAL,EAAA7R,EAAA,IAAAmS,EAAAN,EAAA7R,EAAA,IAAAoS,EAAAP,EAAA7R,EAAA,IAAAqS,EAAAR,EAAA7R,EAAA,yDAwBEsS,2BACAC,iCACAC,2BACAC,oCACAC,0BACAC,2BACAC,4BACAC,+BACAC","file":"bss.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n","// @flow\nimport insertAfter from \"./insertAfter\";\n\nexport { insertAfter };\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","// @flow\nimport idx from \"idx\";\n\ndeclare var $: {\n  jGrowl: Function\n};\n\ntype Contact = {\n  url: string, // link\n  title: string // link title\n};\n\ntype Credit = {\n  name: string, // script name\n  author: string, // author name\n  url: string, // link to script page\n  contacts?: Array<Contact>\n};\n\nfunction createCreditHTML({ name, author, url, contacts = [] }: Credit) {\n  let contactsHTML = \"\";\n\n  if (contacts.length > 0) {\n    contactsHTML = contacts\n      .map(\n        ({ url, title }: Contact) =>\n          `<a href=\"${url}\" target=\"_blank\" title=\"${title}\">${title}</a>`\n      )\n      .join(\" | \");\n  }\n\n  return `\n    <li style=\"padding: 1rem 0; line-height: inherit;\">\n      <strong>\n        <a href=\"${url}\" target=\"_blank\" title=\"${name}\">${name}</a>\n      </strong>\n      <br/>\n      <span>\n        © ${author}\n        ${contactsHTML ? ` (${contactsHTML})` : \"\"}\n      </span>\n    </li>\n  `;\n}\n\nexport type CreditsProps =\n  | Array<Credit>\n  | {\n      text?: string,\n      credits: Array<Credit>\n    };\n\nfunction createScriptCredits({\n  text,\n  credits\n}: {\n  text: string,\n  credits: Array<Credit>\n}) {\n  const about = document.getElementById(\"pun-about\");\n\n  if (about instanceof HTMLElement) {\n    const container = about.querySelector(\"p.container\");\n    const triggerHTML = `\n      <style>\n        .jGrowl-notification.jGrowl-credits {\n          width: auto;\n        }\n        .jGrowl-notification.jGrowl-credits .jGrowl-header {\n          position: relative;\n          z-index: -1;\n        }\n        .jGrowl-notification.jGrowl-credits li:not(:last-of-type) {\n          border-bottom: 1px solid rgba(255,255,255,.25);\n        }\n        .jGrowl-notification.jGrowl-credits a {\n          color: #fff;\n        }\n        .jGrowl-notification.jGrowl-credits ul {\n          margin-bottom: 0;\n          padding: 0 1.5em;\n          line-height: 1.5;\n          border-top: 1px solid rgba(255,255,255,.25);\n        }\n        .jGrowl-notification.jGrowl-credits ul a:hover,\n        .jGrowl-notification.jGrowl-credits ul a:focus,\n        .jGrowl-notification.jGrowl-credits ul a:active {\n          text-decoration: none;\n        }\n      </style>\n      <a href=\"#\" id=\"script-credit-trigger\">\n        ${text}\n      </a>`;\n\n    if (container instanceof HTMLElement) {\n      container.insertAdjacentHTML(\n        \"afterbegin\",\n        `<span>${triggerHTML} | </span>`\n      );\n    } else {\n      about.insertAdjacentHTML(\n        \"beforeend\",\n        `<p class=\"container\"><span>${triggerHTML}</span></p>`\n      );\n    }\n\n    const triggerEl = document.getElementById(\"script-credit-trigger\");\n    const creditsHTML = credits.map(createCreditHTML).join(\"\");\n\n    if (triggerEl instanceof HTMLElement) {\n      triggerEl.addEventListener(\"click\", (e: MouseEvent) => {\n        e.preventDefault();\n\n        return $.jGrowl(`<ul>${creditsHTML}</ul>`, {\n          header: `<strong style=\"line-height: 1.5;\">${text}</strong>`,\n          theme: \"jGrowl-credits\",\n          position: \"bottom-right\",\n          sticky: true\n        });\n      });\n    }\n  }\n}\n\nexport default function addScriptCredits(props: CreditsProps) {\n  let text =\n    (!Array.isArray(props) && idx(props, props => props.text)) ||\n    \"Скрипты форума\";\n  let credits = Array.isArray(props)\n    ? props\n    : idx(props, props => props.credits) || [];\n\n  const defaultCredits = [\n    {\n      name: \"basicScriptSet\",\n      author: \"eugpoloz (грандоченька смерти)\",\n      url: \"https://github.com/eugpoloz/basicScriptSet\",\n      contacts: [\n        {\n          title: \"lyl\",\n          url: \"http://urchoice.rolka.su/messages.php?action=new&uid=4789\"\n        },\n        {\n          title: \"github\",\n          url: \"https://github.com/eugpoloz\"\n        }\n      ]\n    }\n  ];\n\n  return createScriptCredits({\n    text,\n    credits: [...defaultCredits, ...credits]\n  });\n}\n","// @flow\nimport type { DisabledProfiles } from \"../commonTypes\";\n\ndeclare var UserID: any;\ndeclare var profile: HTMLElement | Function;\n\nexport default function disableProfiles({\n  profiles = [],\n  message = \"Редактирование данного профиля для вас запрещено!\"\n}: DisabledProfiles) {\n  if (profiles.length > 0) {\n    const innerHTML = `<p style=\"margin: 1em 0; line-height: 2; text-align: center;\">${message}</p>`;\n\n    // оказывается, у нас есть глобальная переменная profile,\n    // которая функция на всех страницах, кроме профиля,\n    // и объект (HTMLElement) на профиле, поэтому\n    if (typeof profile === \"object\") {\n      profile.style.display = \"none\";\n\n      // переписываем на Set() и чекаем наличие\n      const profilesSet = new Set(profiles);\n\n      if (profilesSet.has(UserID)) {\n        profile.innerHTML = innerHTML;\n      }\n\n      profile.style.display = \"\";\n    }\n  }\n}\n","// @flow\nimport type { FastLogin } from \"../commonTypes\";\n\ndeclare var GroupID: any;\n\nexport default function createFastLoginLinks({\n  after = \"navlogin\",\n  logins = []\n}: FastLogin) {\n  // if the current user group is a guest one\n  if (GroupID === 3) {\n    // helper function\n    function handleFastLoginClick({ target }: { target: EventTarget }) {\n      if (target instanceof HTMLElement) {\n        const { login, password } = target.dataset;\n\n        const formData = new FormData();\n        formData.append(\"form_sent\", \"1\");\n        formData.append(\"req_username\", login);\n        formData.append(\"req_password\", password);\n        formData.append(\"login\", \"Submit\");\n\n        const fetchObject = {\n          body: formData,\n          credentials: \"include\",\n          headers: {\n            \"Cache-Control\": \"max-age=0\",\n            \"Upgrade-Insecure-Requests\": \"1\"\n          },\n          method: \"POST\"\n        };\n\n        const data = fetch(\n          `${window.location.origin}/login.php?action=in`,\n          fetchObject\n        ).then(data => {\n          if (data.status === 200) {\n            window.location.reload();\n          }\n        });\n      }\n    }\n\n    if (logins.length > 0) {\n      const loginMap = logins.map(({ id, link, login, password }, i) => {\n        const liID = id || `navAdd${i}`;\n\n        return `<li id=\"${liID}\"><a class=\"js_login\" style=\"cursor: pointer;\" data-login=\"${login}\" data-password=\"${password}\">${link}</a></li>`;\n      });\n\n      const afterEl = document.getElementById(after);\n      if (afterEl instanceof HTMLElement) {\n        afterEl.insertAdjacentHTML(\"afterend\", loginMap.join(\"\"));\n      }\n\n      document\n        .querySelectorAll(\"a.js_login\")\n        .forEach((node: HTMLElement) =>\n          node.addEventListener(\"click\", handleFastLoginClick)\n        );\n    }\n  }\n}\n","// @flow\ndeclare var FORUM: Object;\n\nfunction transformNodes() {\n  const profileNodes = document.querySelectorAll(\".post-author .pa-author\");\n\n  if (profileNodes.length > 0) {\n    profileNodes.forEach(node => {\n      const link = node.querySelector(\"a\");\n      if (!link) {\n        const nickname = node.innerText || \"\";\n        if (nickname !== \"\") {\n          const html = `<span class=\"acchide\">Автор:&nbsp;</span><a href=\"javascript:to('${nickname}')\" rel=\"nofollow\">${nickname}</a>`;\n\n          node.innerHTML = html;\n        }\n      }\n    });\n  }\n}\n\nexport default function clickableGuestNames(forum_id?: number) {\n  if (typeof FORUM.topic === \"object\") {\n    const current_forum = Number(FORUM.topic.forum_id);\n\n    if (forum_id) {\n      if (current_forum === forum_id) {\n        transformNodes();\n      }\n\n      return;\n    } else {\n      return transformNodes();\n    }\n  }\n}\n","// @flow\nimport idx from \"idx\";\n\ndeclare var FORUM: Object;\ntype HTMLBodyElementIE8 = HTMLBodyElement & {\n  createTextRange?: Function\n};\n\n// taken from this tutorial\n// http://www.javascriptkit.com/javatutors/copytoclipboard.shtml\nfunction selectElementText(el) {\n  // modern browsers\n  if (window.getSelection && document.createRange) {\n    // let's combine with previous code and augment\n    let range = document.createRange();\n    range.selectNodeContents(el);\n    let selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n    return true;\n  }\n\n  // IE8 fallback\n  if (document.body != null) {\n    let bodyIE8: HTMLBodyElementIE8 = document.body;\n\n    if (bodyIE8.createTextRange) {\n      let range = bodyIE8.createTextRange();\n      range.moveToElementText(el);\n      range.select();\n      return true;\n    }\n  }\n}\n\nfunction copySelectionText() {\n  let copysuccess;\n  try {\n    copysuccess = document.execCommand(\"copy\"); // run command to copy selected text to clipboard\n  } catch (e) {\n    copysuccess = false;\n  }\n  return copysuccess;\n}\n\n// OUR CODE\n// helper func\nfunction changeText(el?: HTMLElement, innerHTML: string) {\n  if (el) {\n    el.innerHTML = innerHTML;\n    return;\n  }\n}\n\n// our custom code\ntype Props = {\n  text?: string,\n  copiedText?: string\n};\n\nexport default function selectableCodeBox(props: Props) {\n  const text = idx(props, props => props.text) || \"Выделить и скопировать:\";\n  const textHTML = `<a href=\"#\">${text}</a>`;\n  const copiedText =\n    idx(props, props => props.copiedText) || \"Скопировано в буфер обмена!\";\n\n  function codeSelector(e: MouseEvent) {\n    e.preventDefault();\n    const { target } = e;\n\n    if (\n      target instanceof HTMLElement &&\n      (target.tagName === \"PRE\" || target.tagName === \"A\")\n    ) {\n      const nearestParent = target.closest(\".code-box\");\n\n      if (nearestParent instanceof HTMLElement) {\n        const elToSelect =\n          target.tagName === \"PRE\"\n            ? target\n            : nearestParent.querySelector(\"pre\");\n        const elLegend = nearestParent.querySelector(\".legend\");\n\n        if (elToSelect instanceof HTMLPreElement) {\n          selectElementText(elToSelect);\n          const copysuccess = copySelectionText();\n          if (copysuccess === true) {\n            // let's show user that our stuff is copied to clipboard\n            if (elLegend) {\n              changeText(elLegend, copiedText);\n              let timer;\n\n              function revertTextBack() {\n                window.clearTimeout(timer);\n                timer = window.setTimeout(\n                  () => changeText(elLegend, textHTML),\n                  // in ms\n                  3000\n                );\n              }\n\n              revertTextBack();\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function remakeCodeBoxes() {\n    const codeboxNodeList = document.querySelectorAll(\".code-box\");\n    if (codeboxNodeList.length > 0) {\n      codeboxNodeList.forEach(node => {\n        const legend = node.querySelector(\".legend\");\n        if (legend) {\n          changeText(legend, textHTML);\n        }\n        node.addEventListener(\"click\", codeSelector);\n      });\n    }\n  }\n\n  if (document.readyState !== \"complete\") {\n    document.addEventListener(\"DOMContentLoaded\", remakeCodeBoxes);\n  } else {\n    remakeCodeBoxes();\n  }\n}\n","// @flow\ndeclare var FORUM: Object;\n\nimport type { DefaultIcon } from \"../commonTypes\";\n\nfunction createDefaultIcon(props: DefaultIcon) {\n  // мы предполагаем, что если не передается вообще никаких параметров,\n  // то вставлять аватарку надо всегда ПОСЛЕ статуса .pa-title\n  const { icon, before = null, after = \".pa-title\" } = props;\n\n  if (typeof FORUM.topic === \"object\") {\n    document.querySelectorAll(\".post-author ul\").forEach(author => {\n      if (author.querySelector(\".pa-avatar\")) return;\n      const authorLink = author.querySelector(\".pa-author a\");\n      const alt = (authorLink && authorLink.textContent) || \"guest\";\n      const html = `<li class=\"pa-avatar item2 default-icon\"><img src=\"${icon}\" alt=\"${alt}\" style=\"cursor: pointer;\"></li>`;\n\n      // сначала мы чекаем, есть ли у нас before, и отдаем его\n      if (before) {\n        const beforeEl = author.querySelector(before);\n\n        if (beforeEl instanceof HTMLElement) {\n          return beforeEl.insertAdjacentHTML(\"beforebegin\", html);\n        }\n      }\n\n      // потом мы чекаем, есть ли у нас after;\n      // если и его нет, то подставится наш дефолтный ПОСЛЕ .pa-title\n      if (after) {\n        const afterEl = author.querySelector(after);\n\n        if (afterEl instanceof HTMLElement) {\n          return afterEl.insertAdjacentHTML(\"afterend\", html);\n        }\n      }\n    });\n  }\n}\n\ntype SetDefaultIcon = null | string | DefaultIcon;\n\nexport default function setDefaultIcon(props: SetDefaultIcon) {\n  // если нет параметра\n  if (props == null) {\n    return;\n  }\n\n  // если урл-строка\n  if (typeof props === \"string\") {\n    return createDefaultIcon({ icon: props });\n  }\n\n  // если объект\n  return createDefaultIcon(props);\n}\n","// @flow\ndeclare var FORUM: Object;\ndeclare var bbcode: Function;\n\nfunction handleClick({ target, ctrlKey, metaKey, altKey }: MouseEvent) {\n  if (target instanceof HTMLElement) {\n    const { parentNode } = target;\n    if (parentNode instanceof HTMLElement) {\n      const { id } = parentNode;\n      const nodeID = id.substr(7);\n\n      if (ctrlKey || metaKey || altKey) {\n        switch (nodeID) {\n          case \"image\":\n            bbcode(\"[img]\", \"[/img]\");\n            break;\n          case \"link\":\n            bbcode('[url=\"\"]', \"[/url]\");\n            break;\n          default:\n            bbcode(`[${nodeID}]`, `[/${nodeID}]`);\n            break;\n        }\n      } else {\n        FORUM.get(\"editor.\" + nodeID + \".onclick()\");\n      }\n    }\n  }\n}\n\nexport function addCtrlClicks() {\n  if (typeof FORUM.editor === \"object\") {\n    const nodeList = document.querySelectorAll(\n      \"#button-link, #button-hide, #button-image, #button-spoiler, #button-video\"\n    );\n\n    if (nodeList) {\n      nodeList.forEach(node => {\n        const img = node.querySelector(\"img\");\n        if (img) {\n          img.removeAttribute(\"onclick\");\n          img.addEventListener(\"click\", handleClick);\n        }\n      });\n    }\n  }\n}\n\n// сначала оригинал загруженного изображения\n// loaded img original first\nexport function originalUploadedFirst() {\n  if (typeof FORUM.editor === \"object\") {\n    const insertFormat = document.getElementById(\"image-insert-format\");\n\n    const html = `<strong>Вставить как:</strong>\n    <br><br>\n    <select id=\"selected-insert-format\">\n      <option value=\"viewer\">Превью</option>\n      <option value=\"source\" selected>Оригинал</option>\n    </select>`;\n\n    if (insertFormat) {\n      return (insertFormat.innerHTML = html);\n    }\n  }\n}\n","// @flow\nimport { insertAfter } from \"../common\";\n\ndeclare var FORUM: Object;\n\nexport default function submitPostOnHotkey() {\n  if (typeof FORUM.editor === \"object\" && typeof FORUM.topic === \"object\") {\n    const textarea = document.querySelector(\"#main-reply\");\n    const submitInput = document.querySelector(`input[name=\"submit\"]`);\n\n    if (textarea instanceof HTMLTextAreaElement) {\n      function checkWhatsClicked({ key, ctrlKey, metaKey }: KeyboardEvent) {\n        if (key === \"Enter\" && (ctrlKey || metaKey)) {\n          submitInput && submitInput.click();\n          textarea.value = \"\";\n        }\n      }\n\n      textarea.addEventListener(\"keydown\", checkWhatsClicked);\n    }\n\n    const previewInput = document.querySelector(`input[name=\"preview\"]`);\n    const html = `<div id=\"fastsubmit\">Для быстрой отправки нажмите <strong>Ctrl+Enter</strong> (<strong>Cmd+Enter</strong>).</div>`;\n\n    if (previewInput) {\n      insertAfter(`input[name=\"preview\"]`, html);\n    } else {\n      insertAfter(`input[name=\"submit\"]`, html);\n    }\n  }\n}\n","// @flow\nexport default function insertAfter(query: string, html: string) {\n  const el = document.querySelector(query);\n\n  if (el) {\n    el.insertAdjacentHTML(\"afterend\", html);\n  }\n}\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","// @flow\nimport debounce from \"lodash/debounce\";\nimport { insertAfter } from \"../common\";\n\ndeclare var FORUM: Object;\n\nexport default function countCharacters(counterText?: string = \"Символов в сообщении\") {\n  const html = `<div id=\"charcounter\">${counterText}: <span class=\"charcount\">0</span></div>`;\n\n  if (typeof FORUM.editor === \"object\") {\n    const textarea = document.getElementById(\"main-reply\");\n\n    function updateCharCounter(value: string) {\n      const { length } = value;\n\n      const counter = document.querySelector(\"#charcounter .charcount\");\n      if (counter) {\n        counter.innerText = length.toString();\n      }\n    }\n\n    const debouncedUpdate = debounce(\n      ({ target }) => updateCharCounter(target.value),\n      15\n    );\n\n    if (textarea instanceof HTMLTextAreaElement) {\n      insertAfter(\"p.areafield.required\", html);\n\n      if (typeof FORUM.topic === \"object\") {\n        const id = window.location.search.substr(4);\n        const savedPost = localStorage.getItem(`topic${id}`);\n\n        if (savedPost !== null && savedPost !== undefined) {\n          updateCharCounter(savedPost);\n        }\n      }\n\n      [\n        \"focus\",\n        \"blur\",\n        \"keypress\",\n        \"keyup\",\n        \"keydown\",\n        \"change\",\n        \"cut\",\n        \"paste\",\n        \"input\",\n        \"selectionchange\",\n        \"propertychange\"\n      ].forEach(event => {\n        textarea.addEventListener(event, debouncedUpdate);\n      });\n    }\n  }\n}\n","// @flow\ndeclare var FORUM: Object;\n\nconst fontHMTL = (font: string) =>\n  `<div style=\"font-family:${font}\">\n    <span>${font}</span> <img onclick=\"bbcode('[font=${font}]','[/font]')\" src=\"/i/blank.gif\">\n  </div>`;\n\nexport default function addFontsToList(fonts: Array<string>) {\n  if (typeof FORUM.editor === \"object\") {\n    const fontArea = document.getElementById(\"font-area\");\n\n    if (fontArea instanceof HTMLElement) {\n      const html = fonts.map(fontHMTL).join(\"\");\n\n      fontArea.insertAdjacentHTML(\"beforeend\", html);\n      return;\n    }\n  }\n}\n","// @flow\n\"use strict\";\n\n/*\n  basicScriptSet\n  author: eugpoloz (грандоченька смерти)\n  license: MIT\n\n  вопросы и поддержка:\n  — https://github.com/eugpoloz/basicScriptSet\n  — http://urchoice.rolka.su/profile.php?id=4789\n*/\n\nimport addFontsToList from \"./textarea/addFontsToList\";\nimport countTextareaCharacters from \"./textarea/charCounter\";\nimport submitOnHotkey from \"./textarea/fastSubmit\";\nimport {\n  addCtrlClicks,\n  originalUploadedFirst\n} from \"./textarea/refactorEditorButtons\";\n\nimport setDefaultIcon from \"./topic/setDefaultIcon\";\nimport selectCodeBox from \"./topic/selectAndCopy\";\nimport addGuestNameClicks from \"./topic/makeGuestNamesClickable\";\n\nimport createFastLoginLinks from \"./various/createFastLoginLinks\";\nimport disableProfiles from \"./various/disableProfiles\";\nimport addScriptCredits from \"./various/addScriptCredits\";\n\n// basic function\nexport function enhanceTextarea() {\n  addCtrlClicks();\n  originalUploadedFirst();\n}\n\n// module exports\nexport {\n  setDefaultIcon,\n  createFastLoginLinks,\n  addFontsToList,\n  countTextareaCharacters,\n  selectCodeBox,\n  submitOnHotkey,\n  disableProfiles,\n  addGuestNameClicks,\n  addScriptCredits\n};\n\n// possible config for reference:\n\n// basicScriptSet.enhanceTextarea();\n// basicScriptSet.setDefaultIcon(\"http://forumavatars.ru/img/avatars/0019/83/8b/85-1520334341.png\" /* ссылка */ );\n// basicScriptSet.disableProfiles({\n//   profiles: [4],\n//   message: \"Don't even think about it!\"\n// });\n"],"sourceRoot":""}